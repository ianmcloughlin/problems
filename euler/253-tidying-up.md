Tidying up
----------

*Source: https://projecteuler.net/problem=253*


*Difficulty rating: 75%*

A small child has a “number caterpillar” consisting of forty jigsaw
pieces, each with one number on it, which, when connected together in a
line, reveal the numbers 1 to 40 in order.

Every night, the child's father has to pick up the pieces of the
caterpillar that have been scattered across the play room. He picks up
the pieces at random and places them in the correct order.\
 As the caterpillar is built up in this way, it forms distinct segments
that gradually merge together.\
 The number of segments starts at zero (no pieces placed), generally
increases up to about eleven or twelve, then tends to drop again before
finishing at a single segment (all pieces placed).

For example:

  ------------------------------------ ------------------------------------
  **Piece Placed**                     12
  **Segments So Far**                  1
  ------------------------------------ ------------------------------------

Let M be the maximum number of segments encountered during a random
tidy-up of the caterpillar.\
 For a caterpillar of ten pieces, the number of possibilities for each M
is

  ------------------------------------ ------------------------------------
  **M**                                1
  **Possibilities**                    512      
  ------------------------------------ ------------------------------------

so the most likely value of M is 3 and the average value is
<sup>385643</sup>⁄<sub>113400</sub> = 3.400732, rounded to six decimal places.

The most likely value of M for a forty-piece caterpillar is 11; but what
is the average value of M?

Give your answer rounded to six decimal places.
