Pencils of rays
---------------

### Problem 372

Published on Saturday, 18th February 2012, 01:00 pm; Solved by 282;
Difficulty rating: 60%

Let R(M, N) be the number of lattice points (x, y) which satisfy M\<x≤N,
M\<y≤N and ![p372\_pencilray1.jpg](project/images/p372_pencilray1.jpg)
is odd.\
 We can verify that R(0, 100) = 3019 and R(100, 10000) = 29750422.\
 Find R(2·10^6^, 10^9^).

*Note*: ![p372\_pencilray2.gif](project/images/p372_pencilray2.gif)
represents the floor function.
